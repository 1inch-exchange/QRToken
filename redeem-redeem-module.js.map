{"version":3,"sources":["webpack:///./src/app/redeem/redeem-form/redeem-form.component.css","webpack:///./src/app/redeem/redeem-form/redeem-form.component.html","webpack:///./src/app/redeem/redeem-form/redeem-form.component.ts","webpack:///./src/app/redeem/redeem.module.ts","webpack:///./src/app/util/zero-fee.ts"],"names":[],"mappings":"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","file":"redeem-redeem-module.js","sourcesContent":["module.exports = \"@media (min-width: 767.98px) {\\n\\n    #redeem-form {\\n        padding-top: 2rem;\\n    }\\n\\n    #redeem-form .row div {\\n        border-radius: 0.4rem;\\n    }\\n}\\n\\n#redeem-form h3 {\\n    text-align: center;\\n    font-weight: 300;\\n    border-radius: 0.5rem;\\n\\n    background: #ECE9E6;  /* fallback for old browsers */  /* Chrome 10-25, Safari 5.1-6 */\\n    background: linear-gradient(to bottom, #FFFFFF, #ECE9E6); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\\n}\\n\\n#redeem-form .row > div,\\n#card-panel .row > div {\\n    background: white;\\n    padding: 2rem;\\n}\\n\\n.ng-valid[required], .ng-valid.required  {\\n    border-left: 5px solid #42A948; /* green */\\n}\\n\\n.ng-invalid:not(form)  {\\n    border-left: 5px solid #a94442; /* red */\\n}\\n\\n.lds-ripple {\\n    display: inline-block;\\n    position: relative;\\n    width: 640px;\\n    height: 640px;\\n}\\n\\n.lds-ripple div {\\n    position: absolute;\\n    border: 4px solid #fffc00;\\n    opacity: 1;\\n    border-radius: 50%;\\n    -webkit-animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\\n            animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\\n}\\n\\n.lds-ripple div:nth-child(2) {\\n    -webkit-animation-delay: -0.5s;\\n            animation-delay: -0.5s;\\n}\\n\\n@-webkit-keyframes lds-ripple {\\n    0% {\\n        top: 280px;\\n        left: 280px;\\n        width: 0;\\n        height: 0;\\n        opacity: 1;\\n    }\\n    100% {\\n        top: -1px;\\n        left: -1px;\\n        width: 580px;\\n        height: 580px;\\n        opacity: 0;\\n    }\\n}\\n\\n@keyframes lds-ripple {\\n    0% {\\n        top: 280px;\\n        left: 280px;\\n        width: 0;\\n        height: 0;\\n        opacity: 1;\\n    }\\n    100% {\\n        top: -1px;\\n        left: -1px;\\n        width: 580px;\\n        height: 580px;\\n        opacity: 0;\\n    }\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVkZWVtL3JlZGVlbS1mb3JtL3JlZGVlbS1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0lBRUk7UUFDSSxpQkFBaUI7SUFDckI7O0lBRUE7UUFDSSxxQkFBcUI7SUFDekI7QUFDSjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIscUJBQXFCOztJQUVyQixtQkFBbUIsR0FBRyw4QkFBOEIsR0FDZSwrQkFBK0I7SUFDbEcsd0RBQXdELEVBQUUscUVBQXFFO0FBQ25JOztBQUVBOztJQUVJLGlCQUFpQjtJQUNqQixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksOEJBQThCLEVBQUUsVUFBVTtBQUM5Qzs7QUFFQTtJQUNJLDhCQUE4QixFQUFFLFFBQVE7QUFDNUM7O0FBSUE7SUFDSSxxQkFBcUI7SUFDckIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixhQUFhO0FBQ2pCOztBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixVQUFVO0lBQ1Ysa0JBQWtCO0lBQ2xCLHNFQUE4RDtZQUE5RCw4REFBOEQ7QUFDbEU7O0FBQ0E7SUFDSSw4QkFBc0I7WUFBdEIsc0JBQXNCO0FBQzFCOztBQUNBO0lBQ0k7UUFDSSxVQUFVO1FBQ1YsV0FBVztRQUNYLFFBQVE7UUFDUixTQUFTO1FBQ1QsVUFBVTtJQUNkO0lBQ0E7UUFDSSxTQUFTO1FBQ1QsVUFBVTtRQUNWLFlBQVk7UUFDWixhQUFhO1FBQ2IsVUFBVTtJQUNkO0FBQ0o7O0FBZkE7SUFDSTtRQUNJLFVBQVU7UUFDVixXQUFXO1FBQ1gsUUFBUTtRQUNSLFNBQVM7UUFDVCxVQUFVO0lBQ2Q7SUFDQTtRQUNJLFNBQVM7UUFDVCxVQUFVO1FBQ1YsWUFBWTtRQUNaLGFBQWE7UUFDYixVQUFVO0lBQ2Q7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3JlZGVlbS9yZWRlZW0tZm9ybS9yZWRlZW0tZm9ybS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQG1lZGlhIChtaW4td2lkdGg6IDc2Ny45OHB4KSB7XG5cbiAgICAjcmVkZWVtLWZvcm0ge1xuICAgICAgICBwYWRkaW5nLXRvcDogMnJlbTtcbiAgICB9XG5cbiAgICAjcmVkZWVtLWZvcm0gLnJvdyBkaXYge1xuICAgICAgICBib3JkZXItcmFkaXVzOiAwLjRyZW07XG4gICAgfVxufVxuXG4jcmVkZWVtLWZvcm0gaDMge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXdlaWdodDogMzAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcblxuICAgIGJhY2tncm91bmQ6ICNFQ0U5RTY7ICAvKiBmYWxsYmFjayBmb3Igb2xkIGJyb3dzZXJzICovXG4gICAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjRkZGRkZGLCAjRUNFOUU2KTsgIC8qIENocm9tZSAxMC0yNSwgU2FmYXJpIDUuMS02ICovXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI0ZGRkZGRiwgI0VDRTlFNik7IC8qIFczQywgSUUgMTArLyBFZGdlLCBGaXJlZm94IDE2KywgQ2hyb21lIDI2KywgT3BlcmEgMTIrLCBTYWZhcmkgNysgKi9cbn1cblxuI3JlZGVlbS1mb3JtIC5yb3cgPiBkaXYsXG4jY2FyZC1wYW5lbCAucm93ID4gZGl2IHtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBwYWRkaW5nOiAycmVtO1xufVxuXG4ubmctdmFsaWRbcmVxdWlyZWRdLCAubmctdmFsaWQucmVxdWlyZWQgIHtcbiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkICM0MkE5NDg7IC8qIGdyZWVuICovXG59XG5cbi5uZy1pbnZhbGlkOm5vdChmb3JtKSAge1xuICAgIGJvcmRlci1sZWZ0OiA1cHggc29saWQgI2E5NDQ0MjsgLyogcmVkICovXG59XG5cblxuXG4ubGRzLXJpcHBsZSB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogNjQwcHg7XG4gICAgaGVpZ2h0OiA2NDBweDtcbn1cbi5sZHMtcmlwcGxlIGRpdiB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvcmRlcjogNHB4IHNvbGlkICNmZmZjMDA7XG4gICAgb3BhY2l0eTogMTtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYW5pbWF0aW9uOiBsZHMtcmlwcGxlIDFzIGN1YmljLWJlemllcigwLCAwLjIsIDAuOCwgMSkgaW5maW5pdGU7XG59XG4ubGRzLXJpcHBsZSBkaXY6bnRoLWNoaWxkKDIpIHtcbiAgICBhbmltYXRpb24tZGVsYXk6IC0wLjVzO1xufVxuQGtleWZyYW1lcyBsZHMtcmlwcGxlIHtcbiAgICAwJSB7XG4gICAgICAgIHRvcDogMjgwcHg7XG4gICAgICAgIGxlZnQ6IDI4MHB4O1xuICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgICAxMDAlIHtcbiAgICAgICAgdG9wOiAtMXB4O1xuICAgICAgICBsZWZ0OiAtMXB4O1xuICAgICAgICB3aWR0aDogNTgwcHg7XG4gICAgICAgIGhlaWdodDogNTgwcHg7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxufVxuXG4iXX0= */\"","module.exports = \"<div [hidden]=\\\"!(withFee && fee >= 100)\\\">\\n    <div class=\\\"container-fluid\\\" id=\\\"select-screen\\\">\\n        <div class=\\\"row align-items-center\\\">\\n            <div class=\\\"col-12 text-center pt-4\\\">\\n                <img class=\\\"d-inline-block mb-4\\\" src=\\\"assets/metamask.png\\\">\\n                <h2>Please install Metamask:<br><br><a class=\\\"btn btn-warning btn-lg\\\" href=\\\"https://metamask.io\\\"\\n                                                       target=\\\"_blank\\\">https://metamask.io</a></h2>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div [hidden]=\\\"withFee && fee >= 100\\\">\\n    <div class=\\\"container-fluid\\\" [hidden]=\\\"!loading || done\\\">\\n        <div class=\\\"row align-items-center\\\">\\n            <div class=\\\"col-12\\\">\\n                <div class=\\\"lds-ripple m-auto d-block\\\"><div></div><div></div></div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"container-fluid\\\" [hidden]=\\\"!isRedeemed || loading || done\\\">\\n        <div class=\\\"row align-items-center\\\">\\n            <div class=\\\"col-12 text-center\\\">\\n                <h3 class=\\\"mt-5\\\">QRToken is already taken!</h3>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"container-fluid\\\" [hidden]=\\\"!done || loading\\\">\\n        <div class=\\\"row align-items-center\\\">\\n            <div class=\\\"col-12 text-center\\\">\\n                <h3 class=\\\"mt-5\\\">Your tokens were transmitted.</h3>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div [hidden]=\\\"loading || isRedeemed || done\\\">\\n        <div class=\\\"container\\\" id=\\\"redeem-form\\\">\\n            <div class=\\\"row align-items-center\\\">\\n                <div class=\\\"col-sm-8 ml-auto mr-auto\\\">\\n                    <h3 class=\\\"pb-3 pt-3\\\">{{tokensAmount}} {{tokenName}}</h3>\\n\\n                    <hr>\\n\\n                    <form (ngSubmit)=\\\"f.form.valid && onSubmit()\\\" name=\\\"form\\\" #f=\\\"ngForm\\\" novalidate>\\n                        <div class=\\\"form-row pt-0 pb-2\\\">\\n                            <div class=\\\"col-12\\\">\\n                                <input [(ngModel)]=\\\"receiver\\\" class=\\\"form-control\\\" minlength=\\\"42\\\" maxlength=\\\"42\\\" required id=\\\"receiver\\\" name=\\\"receiver\\\"\\n                                       placeholder=\\\"Ethereum Wallet Address\\\"\\n                                       type=\\\"text\\\">\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-row pt-0\\\" [hidden]=\\\"!withFee || !fee\\\">\\n                            <div class=\\\"col-12\\\">\\n                                <label>Transaction Fee: {{fee}} %</label>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"p-0 mt-3\\\" style=\\\"text-align: center\\\">\\n                            <button class=\\\"btn btn-success btn-lg\\\" [disabled]=\\\"!f.form.valid\\\" title=\\\"Approve transfer coins.\\\"\\n                                    type=\\\"submit\\\">\\n                                REDEEM YOUR TOKENS\\n                            </button>\\n                        </div>\\n                    </form>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"","import {Component, NgZone, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Web3Service} from '../../util/web3.service';\nimport {QRTOKEN_SMART_CONTRACT_ADDRESS, QRTOKEN_SMART_CONTRACT_ADDRESS_v1} from '../../util/qrtoken-smart-contract';\nimport {MerkleTree} from '../../util/merkle-tree';\nimport {Token} from '../../util/token';\nimport {TOKENS} from '../../util/tokens';\nimport {WalletService} from '../../util/wallet.service';\nimport {ZERO_FEE} from '../../util/zero-fee';\nimport {HttpClient} from '@angular/common/http';\n\ndeclare let Buffer: any;\n\ndeclare let require: any;\nconst qrtokenContractArtifacts = require('../../util/QRTokenABI.json');\n\n@Component({\n    selector: 'app-redeem-form',\n    templateUrl: './redeem-form.component.html',\n    styleUrls: ['./redeem-form.component.css']\n})\nexport class RedeemFormComponent implements OnInit {\n\n    loading = false;\n\n    done = false;\n    account;\n    token: Token;\n    proof;\n    privateKey;\n\n    tokensAmount;\n    receiver;\n    tokenName;\n    fee;\n    gasPrice;\n    withFee = false;\n    isRedeemed;\n\n    tokens: Token[] = TOKENS;\n\n    constructor(\n        private route: ActivatedRoute,\n        private router: Router,\n        private web3Service: Web3Service,\n        private walletService: WalletService,\n        private zone: NgZone,\n        private http: HttpClient\n    ) {\n\n    }\n\n    async processParams() {\n\n        const data = this.route.snapshot.paramMap.get('data')\n            .replace(/-/g, '/')\n            .replace(/_/g, '+');\n\n        const buffer = new Buffer(data, 'base64');\n\n        let contract;\n        let privateKey;\n\n        if (this.router.url.substr(0, 3) === '/r/') {\n            contract = new this.web3Service.web3.eth.Contract(qrtokenContractArtifacts, QRTOKEN_SMART_CONTRACT_ADDRESS_v1);\n            privateKey = buffer.slice(0, 32);\n            this.proof = buffer.slice(32);\n        } else {\n            contract = new this.web3Service.web3.eth.Contract(qrtokenContractArtifacts, '0x' + buffer.slice(0, 20).toString('hex'));\n            privateKey = buffer.slice(20, 52);\n            this.proof = buffer.slice(52);\n        }\n\n        let proof = this.proof;\n\n        // console.log('privateKey', privateKey.toString('hex'));\n\n        this.privateKey = privateKey;\n\n        const proofs = [];\n\n        while (proof.slice(0, 20).length > 0) {\n            const slice = proof.slice(0, 20);\n            proof = proof.slice(20);\n\n            proofs.push(slice.toString('hex'));\n        }\n\n        this.account = this.web3Service.web3.eth.accounts\n            .privateKeyToAccount('0x' + privateKey.toString('hex'));\n\n        const {root, index} = MerkleTree.applyProof(this.account.address, proofs);\n\n        this.zone.run(async () => {\n            this.isRedeemed = await contract.methods\n                .redeemed(\n                    root,\n                    index\n                )\n                .call();\n        });\n\n        if (this.isRedeemed) {\n            this.zone.run(async () => {\n                this.loading = false;\n            });\n\n            return;\n        }\n\n        //\n        // console.log('Account', this.account);\n\n        // console.log('Root', '0x' + root.toString('hex'));\n        // console.log('Index', index);\n        //\n        // console.log('proofs', proofs);\n\n        const distribution = await contract.methods\n            .distributions('0x' + root.toString('hex'))\n            .call();\n\n        // console.log('distribution', distribution);\n\n        for (const token of this.tokens) {\n\n            if (token.address.toLowerCase() === distribution['token'].toLowerCase()) {\n\n                this.zone.run(async () => {\n                    this.tokenName = token.name;\n\n                    this.token = token;\n\n                    const decimals = await this.walletService.getDecimals(token.address);\n                    this.tokensAmount = (distribution['sumAmount'] / (10 ** decimals)) / distribution['codesCount'];\n\n                    const gasPriceRequest = this.http.get('https://gasprice.poa.network');\n                    const pairs = this.http.get('https://tracker.kyber.network/api/tokens/pairs');\n\n                    pairs.subscribe(d => {\n\n                        gasPriceRequest.subscribe(gasPriceResponse => {\n\n                            // console.log('Token Pair', d['ETH_' + this.token.symbol]);\n\n                            const lastPrice = d['ETH_' + this.token.symbol]['lastPrice'];\n                            this.gasPrice = gasPriceResponse['fast'] * 1e9;\n                            this.fee = 400000 * this.gasPrice / lastPrice / 10 ** 18;\n\n                            // console.log('Fees', this.fee);\n\n                            this.fee = Math.ceil(this.fee * 100 / this.tokensAmount);\n\n                            // console.log('Fees', this.fee);\n                        });\n                    });\n                });\n\n                break;\n            }\n        }\n    }\n\n    async ngOnInit() {\n\n        this.loading = true;\n\n        this.web3Service.getAccounts()\n            .subscribe(\n                async (addresses) => {\n\n                    this.receiver = addresses[0];\n                    this.processParams();\n\n                    this.loading = false;\n                },\n                async (err) => {\n\n                    this.processParams();\n                    this.withFee = true;\n                    this.loading = false;\n                }\n            );\n    }\n\n    async onSubmit() {\n\n        this.loading = true;\n\n        this.web3Service.getAccounts()\n            .subscribe(\n                async (addresses) => {\n\n                    const signatureObject = this.account.sign(\n                        this.web3Service.web3.utils.keccak256(\n                            this.web3Service.web3.utils.padLeft(this.receiver, 40)\n                            , {encoding: 'hex'}\n                        )\n                    );\n\n                    const signature = signatureObject.signature;\n\n                    // console.log('signatureObject', signatureObject);\n                    // console.log('Signature', signature);\n                    // console.log('Proof', this.proof);\n\n                    await this.walletService\n                        .transferTokens(addresses[0], signature, this.proof);\n\n                    this.zone.run(async () => {\n                        this.loading = false;\n                        this.done = true;\n                    });\n                },\n                async (err) => {\n\n                    const transferAccount = this.web3Service.web3.eth.accounts\n                        .privateKeyToAccount('0x' + ZERO_FEE);\n\n                    this.web3Service.web3.eth.accounts.wallet.add('0x' + ZERO_FEE);\n                    this.web3Service.web3.eth.defaultAccount = transferAccount.address;\n\n                    try {\n                        await this.walletService\n                            .transferTokensByZeroTransactionGasFee(\n                                this.account, transferAccount.address, this.receiver, this.fee, this.gasPrice, this.proof);\n\n                        this.zone.run(async () => {\n                            this.done = true;\n                        });\n                    } catch (e) {\n                        alert(e.toString());\n                        console.error(e);\n                    }\n\n\n                    this.zone.run(async () => {\n                        this.loading = false;\n                    });\n                }\n            );\n    }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {RedeemFormComponent} from './redeem-form/redeem-form.component';\nimport {RouterModule, Routes} from '@angular/router';\nimport {FontAwesomeModule} from '@fortawesome/angular-fontawesome';\nimport {FormsModule} from '@angular/forms';\nimport {HttpClientModule} from '@angular/common/http';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: RedeemFormComponent,\n        children: []\n    }\n];\n\n@NgModule({\n    declarations: [RedeemFormComponent],\n    imports: [\n        CommonModule,\n        FormsModule,\n        FontAwesomeModule,\n        HttpClientModule,\n        RouterModule.forChild(\n            routes\n        )\n    ]\n})\nexport class RedeemModule {\n}\n","declare let Buffer: any;\nconst ZERO_FEE1 = new Buffer([\n    55, 65, 53, 57, 49, 65, 67, 70, 70, 52, 57, 52, 57, 51, 69, 68, 55, 52, 49, 66, 66, 65, 65, 57, 56, 67, 49, 50, 66,\n]);\n\nconst ZERO_FEE2 = new Buffer([\n    68, 53, 69, 65, 69, 48, 67, 69, 66, 67, 57, 51, 67, 68, 67, 49, 57, 66, 57, 65, 67, 50, 49, 65, 49, 53, 56, 53, 66,\n    65, 67, 66, 52, 56, 57\n]);\n\nexport const ZERO_FEE = Buffer.concat([ZERO_FEE1, ZERO_FEE2]).toString();\n"],"sourceRoot":""}