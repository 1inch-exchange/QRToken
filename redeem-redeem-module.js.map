{"version":3,"sources":["webpack:///./src/app/redeem/redeem-form/redeem-form.component.css","webpack:///./src/app/redeem/redeem-form/redeem-form.component.html","webpack:///./src/app/redeem/redeem-form/redeem-form.component.ts","webpack:///./src/app/redeem/redeem.module.ts"],"names":[],"mappings":"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","file":"redeem-redeem-module.js","sourcesContent":["module.exports = \"@media (min-width: 767.98px) {\\n\\n    #redeem-form {\\n        padding-top: 2rem;\\n    }\\n\\n    #redeem-form .row div {\\n        border-radius: 0.4rem;\\n    }\\n}\\n\\n#redeem-form h3 {\\n    text-align: center;\\n    font-weight: 300;\\n    border-radius: 0.5rem;\\n\\n    background: #ECE9E6;  /* fallback for old browsers */  /* Chrome 10-25, Safari 5.1-6 */\\n    background: linear-gradient(to bottom, #FFFFFF, #ECE9E6); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\\n}\\n\\n#redeem-form .row > div,\\n#card-panel .row > div {\\n    background: white;\\n    padding: 2rem;\\n}\\n\\n.ng-valid[required], .ng-valid.required  {\\n    border-left: 5px solid #42A948; /* green */\\n}\\n\\n.ng-invalid:not(form)  {\\n    border-left: 5px solid #a94442; /* red */\\n}\\n\\n.lds-ripple {\\n    display: inline-block;\\n    position: relative;\\n    width: 640px;\\n    height: 640px;\\n}\\n\\n.lds-ripple div {\\n    position: absolute;\\n    border: 4px solid #fffc00;\\n    opacity: 1;\\n    border-radius: 50%;\\n    -webkit-animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\\n            animation: lds-ripple 1s cubic-bezier(0, 0.2, 0.8, 1) infinite;\\n}\\n\\n.lds-ripple div:nth-child(2) {\\n    -webkit-animation-delay: -0.5s;\\n            animation-delay: -0.5s;\\n}\\n\\n@-webkit-keyframes lds-ripple {\\n    0% {\\n        top: 280px;\\n        left: 280px;\\n        width: 0;\\n        height: 0;\\n        opacity: 1;\\n    }\\n    100% {\\n        top: -1px;\\n        left: -1px;\\n        width: 580px;\\n        height: 580px;\\n        opacity: 0;\\n    }\\n}\\n\\n@keyframes lds-ripple {\\n    0% {\\n        top: 280px;\\n        left: 280px;\\n        width: 0;\\n        height: 0;\\n        opacity: 1;\\n    }\\n    100% {\\n        top: -1px;\\n        left: -1px;\\n        width: 580px;\\n        height: 580px;\\n        opacity: 0;\\n    }\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVkZWVtL3JlZGVlbS1mb3JtL3JlZGVlbS1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0lBRUk7UUFDSSxpQkFBaUI7SUFDckI7O0lBRUE7UUFDSSxxQkFBcUI7SUFDekI7QUFDSjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIscUJBQXFCOztJQUVyQixtQkFBbUIsR0FBRyw4QkFBOEIsR0FDZSwrQkFBK0I7SUFDbEcsd0RBQXdELEVBQUUscUVBQXFFO0FBQ25JOztBQUVBOztJQUVJLGlCQUFpQjtJQUNqQixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksOEJBQThCLEVBQUUsVUFBVTtBQUM5Qzs7QUFFQTtJQUNJLDhCQUE4QixFQUFFLFFBQVE7QUFDNUM7O0FBSUE7SUFDSSxxQkFBcUI7SUFDckIsa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWixhQUFhO0FBQ2pCOztBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixVQUFVO0lBQ1Ysa0JBQWtCO0lBQ2xCLHNFQUE4RDtZQUE5RCw4REFBOEQ7QUFDbEU7O0FBQ0E7SUFDSSw4QkFBc0I7WUFBdEIsc0JBQXNCO0FBQzFCOztBQUNBO0lBQ0k7UUFDSSxVQUFVO1FBQ1YsV0FBVztRQUNYLFFBQVE7UUFDUixTQUFTO1FBQ1QsVUFBVTtJQUNkO0lBQ0E7UUFDSSxTQUFTO1FBQ1QsVUFBVTtRQUNWLFlBQVk7UUFDWixhQUFhO1FBQ2IsVUFBVTtJQUNkO0FBQ0o7O0FBZkE7SUFDSTtRQUNJLFVBQVU7UUFDVixXQUFXO1FBQ1gsUUFBUTtRQUNSLFNBQVM7UUFDVCxVQUFVO0lBQ2Q7SUFDQTtRQUNJLFNBQVM7UUFDVCxVQUFVO1FBQ1YsWUFBWTtRQUNaLGFBQWE7UUFDYixVQUFVO0lBQ2Q7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3JlZGVlbS9yZWRlZW0tZm9ybS9yZWRlZW0tZm9ybS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQG1lZGlhIChtaW4td2lkdGg6IDc2Ny45OHB4KSB7XG5cbiAgICAjcmVkZWVtLWZvcm0ge1xuICAgICAgICBwYWRkaW5nLXRvcDogMnJlbTtcbiAgICB9XG5cbiAgICAjcmVkZWVtLWZvcm0gLnJvdyBkaXYge1xuICAgICAgICBib3JkZXItcmFkaXVzOiAwLjRyZW07XG4gICAgfVxufVxuXG4jcmVkZWVtLWZvcm0gaDMge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXdlaWdodDogMzAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcblxuICAgIGJhY2tncm91bmQ6ICNFQ0U5RTY7ICAvKiBmYWxsYmFjayBmb3Igb2xkIGJyb3dzZXJzICovXG4gICAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjRkZGRkZGLCAjRUNFOUU2KTsgIC8qIENocm9tZSAxMC0yNSwgU2FmYXJpIDUuMS02ICovXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI0ZGRkZGRiwgI0VDRTlFNik7IC8qIFczQywgSUUgMTArLyBFZGdlLCBGaXJlZm94IDE2KywgQ2hyb21lIDI2KywgT3BlcmEgMTIrLCBTYWZhcmkgNysgKi9cbn1cblxuI3JlZGVlbS1mb3JtIC5yb3cgPiBkaXYsXG4jY2FyZC1wYW5lbCAucm93ID4gZGl2IHtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBwYWRkaW5nOiAycmVtO1xufVxuXG4ubmctdmFsaWRbcmVxdWlyZWRdLCAubmctdmFsaWQucmVxdWlyZWQgIHtcbiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkICM0MkE5NDg7IC8qIGdyZWVuICovXG59XG5cbi5uZy1pbnZhbGlkOm5vdChmb3JtKSAge1xuICAgIGJvcmRlci1sZWZ0OiA1cHggc29saWQgI2E5NDQ0MjsgLyogcmVkICovXG59XG5cblxuXG4ubGRzLXJpcHBsZSB7XG4gICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICB3aWR0aDogNjQwcHg7XG4gICAgaGVpZ2h0OiA2NDBweDtcbn1cbi5sZHMtcmlwcGxlIGRpdiB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIGJvcmRlcjogNHB4IHNvbGlkICNmZmZjMDA7XG4gICAgb3BhY2l0eTogMTtcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgYW5pbWF0aW9uOiBsZHMtcmlwcGxlIDFzIGN1YmljLWJlemllcigwLCAwLjIsIDAuOCwgMSkgaW5maW5pdGU7XG59XG4ubGRzLXJpcHBsZSBkaXY6bnRoLWNoaWxkKDIpIHtcbiAgICBhbmltYXRpb24tZGVsYXk6IC0wLjVzO1xufVxuQGtleWZyYW1lcyBsZHMtcmlwcGxlIHtcbiAgICAwJSB7XG4gICAgICAgIHRvcDogMjgwcHg7XG4gICAgICAgIGxlZnQ6IDI4MHB4O1xuICAgICAgICB3aWR0aDogMDtcbiAgICAgICAgaGVpZ2h0OiAwO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgIH1cbiAgICAxMDAlIHtcbiAgICAgICAgdG9wOiAtMXB4O1xuICAgICAgICBsZWZ0OiAtMXB4O1xuICAgICAgICB3aWR0aDogNTgwcHg7XG4gICAgICAgIGhlaWdodDogNTgwcHg7XG4gICAgICAgIG9wYWNpdHk6IDA7XG4gICAgfVxufVxuXG4iXX0= */\"","module.exports = \"<div class=\\\"container-fluid\\\" [hidden]=\\\"!loading\\\">\\n    <div class=\\\"row align-items-center\\\">\\n        <div class=\\\"col-12\\\">\\n            <div class=\\\"lds-ripple m-auto d-block\\\"><div></div><div></div></div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div [hidden]=\\\"loading\\\">\\n    <div class=\\\"container\\\" id=\\\"redeem-form\\\">\\n        <div class=\\\"row align-items-center\\\">\\n            <div class=\\\"col-sm-8 ml-auto mr-auto\\\">\\n                <h3 class=\\\"pb-3 pt-3\\\">{{tokensAmount}} {{tokenName}}</h3>\\n\\n                <hr>\\n\\n                <form (ngSubmit)=\\\"f.form.valid && create()\\\" name=\\\"form\\\" #f=\\\"ngForm\\\" novalidate>\\n                    <div class=\\\"form-row pt-0\\\">\\n                        <div class=\\\"col-12\\\">\\n                            <select [(ngModel)]=\\\"fee\\\" class=\\\"form-control\\\"\\n                                    id=\\\"fee\\\" name=\\\"fee\\\">\\n                                <option *ngFor=\\\"let fee of fees\\\" [value]=\\\"fee.value\\\">{{fee.name}}</option>\\n                            </select>\\n                        </div>\\n                    </div>\\n\\n                    <div class=\\\"p-0 mt-3\\\" style=\\\"text-align: center\\\">\\n                        <button class=\\\"btn btn-success btn-lg\\\" title=\\\"Approve transfer coins.\\\"\\n                                type=\\\"submit\\\">\\n                            REDEEM YOUR TOKENS\\n                        </button>\\n                    </div>\\n                </form>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"","import {Component, OnInit} from '@angular/core';\nimport {ActivatedRoute} from '@angular/router';\nimport {Web3Service} from '../../util/web3.service';\nimport {QRTOKEN_SMART_CONTRACT_ADDRESS} from '../../util/qrtoken-smart-contract';\nimport {MerkleTree} from '../../util/merkle-tree';\n\ndeclare let Buffer: any;\n\ndeclare let require: any;\nconst qrtokenContractArtifacts = require('../../util/QRTokenABI.json');\n\n@Component({\n    selector: 'app-redeem-form',\n    templateUrl: './redeem-form.component.html',\n    styleUrls: ['./redeem-form.component.css']\n})\nexport class RedeemFormComponent implements OnInit {\n\n    loading = false;\n\n    tokensAmount = 1;\n    tokenName = 'BNB';\n    fee = 10;\n\n    fees = [\n        {\n            name: '2.5%',\n            value: 2.5\n        },\n        {\n            name: '5%',\n            value: 5\n        },\n        {\n            name: '10%',\n            value: 10\n        },\n        {\n            name: '15%',\n            value: 15\n        },\n    ];\n\n    constructor(\n        private route: ActivatedRoute,\n        private web3Service: Web3Service\n    ) {\n    }\n\n    async ngOnInit() {\n\n        this.web3Service.getAccounts().subscribe(async (addresses) => {\n\n            const data = this.route.snapshot.paramMap.get('data')\n                .replace(/-/g, '/')\n                .replace(/_/g, '+');\n\n            const buffer = new Buffer(data, 'base64');\n\n            const privateKey = buffer.slice(0, 32);\n            let proof = buffer.slice(32);\n\n            const proofs = [];\n\n            while (proof.slice(0, 20).length > 0) {\n                const slice = proof.slice(0, 20);\n                proof = proof.slice(20);\n\n                proofs.push(slice.toString('hex'));\n            }\n\n            const account = this.web3Service.web3.eth.accounts\n                .privateKeyToAccount(privateKey);\n\n            const {root, index} = MerkleTree.applyProof(account.address, proofs);\n\n            console.log('Account', account);\n\n            console.log('Root', '0x' + root.toString('hex'));\n            console.log('Index', index);\n\n            const contract = new this.web3Service.web3.eth.Contract(qrtokenContractArtifacts, QRTOKEN_SMART_CONTRACT_ADDRESS);\n            const distribution = await contract.methods\n                .distributions('0x' + root.toString('hex'))\n                .call();\n\n            console.log('distribution', distribution);\n        });\n    }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {RedeemFormComponent} from './redeem-form/redeem-form.component';\nimport {RouterModule, Routes} from '@angular/router';\nimport {FontAwesomeModule} from '@fortawesome/angular-fontawesome';\nimport {FormsModule} from '@angular/forms';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: RedeemFormComponent,\n        children: []\n    }\n];\n\n@NgModule({\n    declarations: [RedeemFormComponent],\n    imports: [\n        CommonModule,\n        FormsModule,\n        FontAwesomeModule,\n        RouterModule.forChild(\n            routes\n        )\n    ]\n})\nexport class RedeemModule {\n}\n"],"sourceRoot":""}