{"version":3,"sources":["webpack:///./src/app/redeem/redeem-form/redeem-form.component.css","webpack:///./src/app/redeem/redeem-form/redeem-form.component.html","webpack:///./src/app/redeem/redeem-form/redeem-form.component.ts","webpack:///./src/app/redeem/redeem.module.ts","webpack:///./src/app/util/zero-fee.ts"],"names":[],"mappings":"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","file":"redeem-redeem-module.js","sourcesContent":["module.exports = \"@media (min-width: 767.98px) {\\n\\n    #redeem-form {\\n        padding-top: 2rem;\\n    }\\n\\n    #redeem-form .row div {\\n        border-radius: 0.4rem;\\n    }\\n}\\n\\n#redeem-form h3 {\\n    text-align: center;\\n    font-weight: 300;\\n    border-radius: 0.5rem;\\n\\n    background: #ECE9E6;  /* fallback for old browsers */  /* Chrome 10-25, Safari 5.1-6 */\\n    background: linear-gradient(to bottom, #FFFFFF, #ECE9E6); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\\n}\\n\\n#redeem-form .row > div,\\n#card-panel .row > div {\\n    background: white;\\n    padding: 2rem;\\n}\\n\\n.ng-valid[required], .ng-valid.required  {\\n    border-left: 5px solid #42A948; /* green */\\n}\\n\\n.ng-invalid:not(form)  {\\n    border-left: 5px solid #a94442; /* red */\\n}\\n\\n.sk-cube-grid {\\n    width: 80px;\\n    height: 80px;\\n    margin: 100px auto;\\n}\\n\\n.sk-cube-grid .sk-cube {\\n    width: 33%;\\n    height: 33%;\\n    background-color: #333;\\n    float: left;\\n    -webkit-animation: sk-cubeGridScaleDelay 1.3s infinite ease-in-out;\\n    animation: sk-cubeGridScaleDelay 1.3s infinite ease-in-out;\\n}\\n\\n.sk-cube-grid .sk-cube1 {\\n    -webkit-animation-delay: 0.2s;\\n    animation-delay: 0.2s; }\\n\\n.sk-cube-grid .sk-cube2 {\\n    -webkit-animation-delay: 0.3s;\\n    animation-delay: 0.3s; }\\n\\n.sk-cube-grid .sk-cube3 {\\n    -webkit-animation-delay: 0.4s;\\n    animation-delay: 0.4s; }\\n\\n.sk-cube-grid .sk-cube4 {\\n    -webkit-animation-delay: 0.1s;\\n    animation-delay: 0.1s; }\\n\\n.sk-cube-grid .sk-cube5 {\\n    -webkit-animation-delay: 0.2s;\\n    animation-delay: 0.2s; }\\n\\n.sk-cube-grid .sk-cube6 {\\n    -webkit-animation-delay: 0.3s;\\n    animation-delay: 0.3s; }\\n\\n.sk-cube-grid .sk-cube7 {\\n    -webkit-animation-delay: 0s;\\n    animation-delay: 0s; }\\n\\n.sk-cube-grid .sk-cube8 {\\n    -webkit-animation-delay: 0.1s;\\n    animation-delay: 0.1s; }\\n\\n.sk-cube-grid .sk-cube9 {\\n    -webkit-animation-delay: 0.2s;\\n    animation-delay: 0.2s; }\\n\\n@-webkit-keyframes sk-cubeGridScaleDelay {\\n    0%, 70%, 100% {\\n        -webkit-transform: scale3D(1, 1, 1);\\n        transform: scale3D(1, 1, 1);\\n    } 35% {\\n          -webkit-transform: scale3D(0, 0, 1);\\n          transform: scale3D(0, 0, 1);\\n      }\\n}\\n\\n@keyframes sk-cubeGridScaleDelay {\\n    0%, 70%, 100% {\\n        -webkit-transform: scale3D(1, 1, 1);\\n        transform: scale3D(1, 1, 1);\\n    } 35% {\\n          -webkit-transform: scale3D(0, 0, 1);\\n          transform: scale3D(0, 0, 1);\\n      }\\n}\\n\\n.sk-cube-grid h4 {\\n    text-align: center;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVkZWVtL3JlZGVlbS1mb3JtL3JlZGVlbS1mb3JtLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7O0lBRUk7UUFDSSxpQkFBaUI7SUFDckI7O0lBRUE7UUFDSSxxQkFBcUI7SUFDekI7QUFDSjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIscUJBQXFCOztJQUVyQixtQkFBbUIsR0FBRyw4QkFBOEIsR0FDZSwrQkFBK0I7SUFDbEcsd0RBQXdELEVBQUUscUVBQXFFO0FBQ25JOztBQUVBOztJQUVJLGlCQUFpQjtJQUNqQixhQUFhO0FBQ2pCOztBQUVBO0lBQ0ksOEJBQThCLEVBQUUsVUFBVTtBQUM5Qzs7QUFFQTtJQUNJLDhCQUE4QixFQUFFLFFBQVE7QUFDNUM7O0FBR0E7SUFDSSxXQUFXO0lBQ1gsWUFBWTtJQUNaLGtCQUFrQjtBQUN0Qjs7QUFFQTtJQUNJLFVBQVU7SUFDVixXQUFXO0lBQ1gsc0JBQXNCO0lBQ3RCLFdBQVc7SUFDWCxrRUFBa0U7SUFDbEUsMERBQTBEO0FBQzlEOztBQUNBO0lBQ0ksNkJBQTZCO0lBQzdCLHFCQUFxQixFQUFFOztBQUMzQjtJQUNJLDZCQUE2QjtJQUM3QixxQkFBcUIsRUFBRTs7QUFDM0I7SUFDSSw2QkFBNkI7SUFDN0IscUJBQXFCLEVBQUU7O0FBQzNCO0lBQ0ksNkJBQTZCO0lBQzdCLHFCQUFxQixFQUFFOztBQUMzQjtJQUNJLDZCQUE2QjtJQUM3QixxQkFBcUIsRUFBRTs7QUFDM0I7SUFDSSw2QkFBNkI7SUFDN0IscUJBQXFCLEVBQUU7O0FBQzNCO0lBQ0ksMkJBQTJCO0lBQzNCLG1CQUFtQixFQUFFOztBQUN6QjtJQUNJLDZCQUE2QjtJQUM3QixxQkFBcUIsRUFBRTs7QUFDM0I7SUFDSSw2QkFBNkI7SUFDN0IscUJBQXFCLEVBQUU7O0FBRTNCO0lBQ0k7UUFDSSxtQ0FBbUM7UUFDbkMsMkJBQTJCO0lBQy9CLEVBQUU7VUFDSSxtQ0FBbUM7VUFDbkMsMkJBQTJCO01BQy9CO0FBQ047O0FBRUE7SUFDSTtRQUNJLG1DQUFtQztRQUNuQywyQkFBMkI7SUFDL0IsRUFBRTtVQUNJLG1DQUFtQztVQUNuQywyQkFBMkI7TUFDL0I7QUFDTjs7QUFFQTtJQUNJLGtCQUFrQjtBQUN0QiIsImZpbGUiOiJzcmMvYXBwL3JlZGVlbS9yZWRlZW0tZm9ybS9yZWRlZW0tZm9ybS5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQG1lZGlhIChtaW4td2lkdGg6IDc2Ny45OHB4KSB7XG5cbiAgICAjcmVkZWVtLWZvcm0ge1xuICAgICAgICBwYWRkaW5nLXRvcDogMnJlbTtcbiAgICB9XG5cbiAgICAjcmVkZWVtLWZvcm0gLnJvdyBkaXYge1xuICAgICAgICBib3JkZXItcmFkaXVzOiAwLjRyZW07XG4gICAgfVxufVxuXG4jcmVkZWVtLWZvcm0gaDMge1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBmb250LXdlaWdodDogMzAwO1xuICAgIGJvcmRlci1yYWRpdXM6IDAuNXJlbTtcblxuICAgIGJhY2tncm91bmQ6ICNFQ0U5RTY7ICAvKiBmYWxsYmFjayBmb3Igb2xkIGJyb3dzZXJzICovXG4gICAgYmFja2dyb3VuZDogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjRkZGRkZGLCAjRUNFOUU2KTsgIC8qIENocm9tZSAxMC0yNSwgU2FmYXJpIDUuMS02ICovXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI0ZGRkZGRiwgI0VDRTlFNik7IC8qIFczQywgSUUgMTArLyBFZGdlLCBGaXJlZm94IDE2KywgQ2hyb21lIDI2KywgT3BlcmEgMTIrLCBTYWZhcmkgNysgKi9cbn1cblxuI3JlZGVlbS1mb3JtIC5yb3cgPiBkaXYsXG4jY2FyZC1wYW5lbCAucm93ID4gZGl2IHtcbiAgICBiYWNrZ3JvdW5kOiB3aGl0ZTtcbiAgICBwYWRkaW5nOiAycmVtO1xufVxuXG4ubmctdmFsaWRbcmVxdWlyZWRdLCAubmctdmFsaWQucmVxdWlyZWQgIHtcbiAgICBib3JkZXItbGVmdDogNXB4IHNvbGlkICM0MkE5NDg7IC8qIGdyZWVuICovXG59XG5cbi5uZy1pbnZhbGlkOm5vdChmb3JtKSAge1xuICAgIGJvcmRlci1sZWZ0OiA1cHggc29saWQgI2E5NDQ0MjsgLyogcmVkICovXG59XG5cblxuLnNrLWN1YmUtZ3JpZCB7XG4gICAgd2lkdGg6IDgwcHg7XG4gICAgaGVpZ2h0OiA4MHB4O1xuICAgIG1hcmdpbjogMTAwcHggYXV0bztcbn1cblxuLnNrLWN1YmUtZ3JpZCAuc2stY3ViZSB7XG4gICAgd2lkdGg6IDMzJTtcbiAgICBoZWlnaHQ6IDMzJTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xuICAgIGZsb2F0OiBsZWZ0O1xuICAgIC13ZWJraXQtYW5pbWF0aW9uOiBzay1jdWJlR3JpZFNjYWxlRGVsYXkgMS4zcyBpbmZpbml0ZSBlYXNlLWluLW91dDtcbiAgICBhbmltYXRpb246IHNrLWN1YmVHcmlkU2NhbGVEZWxheSAxLjNzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xufVxuLnNrLWN1YmUtZ3JpZCAuc2stY3ViZTEge1xuICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAwLjJzO1xuICAgIGFuaW1hdGlvbi1kZWxheTogMC4yczsgfVxuLnNrLWN1YmUtZ3JpZCAuc2stY3ViZTIge1xuICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAwLjNzO1xuICAgIGFuaW1hdGlvbi1kZWxheTogMC4zczsgfVxuLnNrLWN1YmUtZ3JpZCAuc2stY3ViZTMge1xuICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAwLjRzO1xuICAgIGFuaW1hdGlvbi1kZWxheTogMC40czsgfVxuLnNrLWN1YmUtZ3JpZCAuc2stY3ViZTQge1xuICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAwLjFzO1xuICAgIGFuaW1hdGlvbi1kZWxheTogMC4xczsgfVxuLnNrLWN1YmUtZ3JpZCAuc2stY3ViZTUge1xuICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAwLjJzO1xuICAgIGFuaW1hdGlvbi1kZWxheTogMC4yczsgfVxuLnNrLWN1YmUtZ3JpZCAuc2stY3ViZTYge1xuICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAwLjNzO1xuICAgIGFuaW1hdGlvbi1kZWxheTogMC4zczsgfVxuLnNrLWN1YmUtZ3JpZCAuc2stY3ViZTcge1xuICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAwcztcbiAgICBhbmltYXRpb24tZGVsYXk6IDBzOyB9XG4uc2stY3ViZS1ncmlkIC5zay1jdWJlOCB7XG4gICAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6IDAuMXM7XG4gICAgYW5pbWF0aW9uLWRlbGF5OiAwLjFzOyB9XG4uc2stY3ViZS1ncmlkIC5zay1jdWJlOSB7XG4gICAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6IDAuMnM7XG4gICAgYW5pbWF0aW9uLWRlbGF5OiAwLjJzOyB9XG5cbkAtd2Via2l0LWtleWZyYW1lcyBzay1jdWJlR3JpZFNjYWxlRGVsYXkge1xuICAgIDAlLCA3MCUsIDEwMCUge1xuICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzRCgxLCAxLCAxKTtcbiAgICAgICAgdHJhbnNmb3JtOiBzY2FsZTNEKDEsIDEsIDEpO1xuICAgIH0gMzUlIHtcbiAgICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUzRCgwLCAwLCAxKTtcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlM0QoMCwgMCwgMSk7XG4gICAgICB9XG59XG5cbkBrZXlmcmFtZXMgc2stY3ViZUdyaWRTY2FsZURlbGF5IHtcbiAgICAwJSwgNzAlLCAxMDAlIHtcbiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM0QoMSwgMSwgMSk7XG4gICAgICAgIHRyYW5zZm9ybTogc2NhbGUzRCgxLCAxLCAxKTtcbiAgICB9IDM1JSB7XG4gICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlM0QoMCwgMCwgMSk7XG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZTNEKDAsIDAsIDEpO1xuICAgICAgfVxufVxuXG4uc2stY3ViZS1ncmlkIGg0IHtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4iXX0= */\"","module.exports = \"<div [hidden]=\\\"!metamask\\\">\\n    <div class=\\\"container-fluid\\\" id=\\\"select-screen\\\">\\n        <div class=\\\"row align-items-center\\\">\\n            <div class=\\\"col-12 text-center pt-4\\\">\\n                <img class=\\\"d-inline-block mb-4\\\" src=\\\"assets/metamask.png\\\">\\n                <h2>Please install Metamask:<br><br><a class=\\\"btn btn-warning btn-lg\\\" href=\\\"https://metamask.io\\\"\\n                                                       target=\\\"_blank\\\">https://metamask.io</a></h2>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div [hidden]=\\\"metamask\\\">\\n    <div class=\\\"container-fluid\\\" [hidden]=\\\"!loading || done || error\\\">\\n        <div class=\\\"row align-items-center\\\">\\n            <div class=\\\"col-12\\\">\\n                <div class=\\\"sk-cube-grid\\\">\\n                    <div class=\\\"sk-cube sk-cube1\\\"></div>\\n                    <div class=\\\"sk-cube sk-cube2\\\"></div>\\n                    <div class=\\\"sk-cube sk-cube3\\\"></div>\\n                    <div class=\\\"sk-cube sk-cube4\\\"></div>\\n                    <div class=\\\"sk-cube sk-cube5\\\"></div>\\n                    <div class=\\\"sk-cube sk-cube6\\\"></div>\\n                    <div class=\\\"sk-cube sk-cube7\\\"></div>\\n                    <div class=\\\"sk-cube sk-cube8\\\"></div>\\n                    <div class=\\\"sk-cube sk-cube9\\\"></div>\\n                    <h4>{{status}}</h4>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"container-fluid\\\" [hidden]=\\\"!isRedeemed || loading || done || error\\\">\\n        <div class=\\\"row align-items-center\\\">\\n            <div class=\\\"col-12 text-center\\\">\\n                <h3 class=\\\"mt-5\\\">QRToken is already taken!</h3>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"container-fluid\\\" [hidden]=\\\"!done || loading || error\\\">\\n        <div class=\\\"row align-items-center\\\">\\n            <div class=\\\"col-12 text-center\\\">\\n                <h3 class=\\\"mt-5\\\">Your tokens were transmitted.</h3>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"container-fluid\\\" [hidden]=\\\"!error || loading || done\\\">\\n        <div class=\\\"row align-items-center\\\">\\n            <div class=\\\"col-12 text-center\\\">\\n                <h3 class=\\\"mt-5\\\">An error has occurred.</h3>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div [hidden]=\\\"loading || isRedeemed || done || error\\\">\\n        <div class=\\\"container\\\" id=\\\"redeem-form\\\">\\n            <div class=\\\"row align-items-center\\\">\\n                <div class=\\\"col-sm-8 ml-auto mr-auto\\\">\\n                    <h3 class=\\\"pb-3 pt-3\\\">{{tokensAmount}} {{tokenName}}</h3>\\n\\n                    <hr>\\n\\n                    <form (ngSubmit)=\\\"f.form.valid && onSubmit()\\\" name=\\\"form\\\" #f=\\\"ngForm\\\" novalidate>\\n                        <div class=\\\"form-row pt-0 pb-2\\\">\\n                            <div class=\\\"col-12\\\">\\n                                <input [(ngModel)]=\\\"receiver\\\" class=\\\"form-control\\\" minlength=\\\"42\\\" maxlength=\\\"42\\\" required id=\\\"receiver\\\" name=\\\"receiver\\\"\\n                                       placeholder=\\\"Ethereum Wallet Address\\\"\\n                                       type=\\\"text\\\">\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-row pt-0\\\" [hidden]=\\\"!withFee || !fee\\\">\\n                            <div class=\\\"col-12\\\">\\n                                <label>Transaction Fee: {{fee}} %</label>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"p-0 mt-3\\\" style=\\\"text-align: center\\\">\\n                            <button class=\\\"btn btn-success btn-lg\\\" [disabled]=\\\"!f.form.valid || (withFee && fee === 0)\\\" title=\\\"Approve transfer coins.\\\"\\n                                    type=\\\"submit\\\">\\n                                REDEEM YOUR TOKENS\\n                            </button>\\n                        </div>\\n                    </form>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\"","import {Component, NgZone, OnInit} from '@angular/core';\nimport {ActivatedRoute, Router} from '@angular/router';\nimport {Web3Service} from '../../util/web3.service';\nimport {QRTOKEN_SMART_CONTRACT_ADDRESS, QRTOKEN_SMART_CONTRACT_ADDRESS_v1} from '../../util/qrtoken-smart-contract';\nimport {MerkleTree} from '../../util/merkle-tree';\nimport {Token} from '../../util/token';\nimport {TOKENS} from '../../util/tokens';\nimport {WalletService} from '../../util/wallet.service';\nimport {ZERO_FEE} from '../../util/zero-fee';\nimport {HttpClient} from '@angular/common/http';\n\ndeclare let Buffer: any;\n\ndeclare let require: any;\nconst qrtokenContractArtifacts = require('../../util/QRTokenABI.json');\n\n@Component({\n    selector: 'app-redeem-form',\n    templateUrl: './redeem-form.component.html',\n    styleUrls: ['./redeem-form.component.css']\n})\nexport class RedeemFormComponent implements OnInit {\n\n    loading = false;\n    error = false;\n    status = '';\n\n    done = false;\n    account;\n    token: Token;\n    proof;\n    privateKey;\n\n    tokensAmount;\n    receiver;\n    tokenName;\n    fee = 0;\n    gasPrice;\n    withFee = false;\n    metamask = false;\n    isRedeemed;\n    root;\n    index;\n    contract;\n    version;\n\n    tokens: Token[] = TOKENS;\n\n    constructor(\n        private route: ActivatedRoute,\n        private router: Router,\n        private web3Service: Web3Service,\n        private walletService: WalletService,\n        private zone: NgZone,\n        private http: HttpClient\n    ) {\n\n    }\n\n    async processParams() {\n\n        try {\n            const data = this.route.snapshot.paramMap.get('data')\n                .replace(/-/g, '/')\n                .replace(/_/g, '+');\n\n            const buffer = new Buffer(data, 'base64');\n\n            let contract;\n            let privateKey;\n\n            if (this.router.url.substr(0, 3) === '/r/') {\n                contract = new this.web3Service.web3.eth.Contract(qrtokenContractArtifacts, QRTOKEN_SMART_CONTRACT_ADDRESS_v1);\n                privateKey = buffer.slice(0, 32);\n                this.proof = buffer.slice(32);\n                this.version = 1;\n            } else {\n                contract = new this.web3Service.web3.eth.Contract(qrtokenContractArtifacts, '0x' + buffer.slice(0, 20).toString('hex'));\n                privateKey = buffer.slice(20, 52);\n                this.proof = buffer.slice(52);\n                this.version = 2;\n            }\n\n            let proof = this.proof;\n\n            // console.log('privateKey', privateKey.toString('hex'));\n\n            this.privateKey = privateKey;\n\n            const proofs = [];\n\n            while (proof.slice(0, 20).length > 0) {\n                const slice = proof.slice(0, 20);\n                proof = proof.slice(20);\n\n                proofs.push(slice.toString('hex'));\n            }\n\n            this.account = this.web3Service.web3.eth.accounts\n                .privateKeyToAccount('0x' + privateKey.toString('hex'));\n\n            const {root, index} = MerkleTree.applyProof(this.account.address, proofs);\n\n            this.root = root;\n            this.index = index;\n            this.contract = contract;\n\n            this.zone.run(async () => {\n                this.isRedeemed = await contract.methods\n                    .redeemed(\n                        root,\n                        index\n                    )\n                    .call();\n            });\n\n            if (this.isRedeemed) {\n                this.zone.run(async () => {\n                    this.loading = false;\n                });\n\n                return;\n            }\n\n            //\n            // console.log('Account', this.account);\n\n            // console.log('Root', '0x' + root.toString('hex'));\n            // console.log('Index', index);\n            //\n            // console.log('proofs', proofs);\n\n            const distribution = await contract.methods\n                .distributions('0x' + root.toString('hex'))\n                .call();\n\n            console.log('distribution', distribution);\n\n            for (const token of this.tokens) {\n\n                if (token.address.toLowerCase() === distribution['token'].toLowerCase()) {\n\n                    this.zone.run(async () => {\n                        this.tokenName = token.name;\n\n                        this.token = token;\n\n                        const decimals = await this.walletService.getDecimals(token.address);\n                        this.tokensAmount = (distribution['sumAmount'] / (10 ** decimals)) / distribution['codesCount'];\n\n                        const gasPriceRequest = this.http.get('https://gasprice.poa.network');\n                        const pairs = this.http.get('https://tracker.kyber.network/api/tokens/pairs');\n\n                        pairs.subscribe(d => {\n\n                            gasPriceRequest.subscribe(gasPriceResponse => {\n\n                                // console.log('Token Pair', d['ETH_' + this.token.symbol]);\n\n                                if (d['ETH_' + this.token.symbol]) {\n\n                                    const lastPrice = d['ETH_' + this.token.symbol]['lastPrice'];\n                                    this.gasPrice = gasPriceResponse['fast'] * 1e9;\n                                    this.fee = 400000 * this.gasPrice / lastPrice / 10 ** 18;\n\n                                    // console.log('Fees', this.fee);\n\n                                    this.fee = Math.ceil(this.fee * 100 / this.tokensAmount);\n\n\n                                    if (this.fee >= 100) {\n\n                                        this.metamask = true;\n                                    }\n\n                                    // console.log('Fees', this.fee);\n                                } else {\n\n                                    this.metamask = true;\n                                }\n                            });\n                        });\n                    });\n\n                    break;\n                }\n            }\n        } catch (e) {\n\n            this.zone.run(async () => {\n                this.loading = false;\n                this.error = true;\n            });\n\n            console.log('Error', e);\n        }\n    }\n\n    async ngOnInit() {\n\n        this.loading = true;\n\n        this.web3Service.getAccounts()\n            .subscribe(\n                async (addresses) => {\n\n                    this.receiver = addresses[0];\n                    this.processParams();\n\n                    this.loading = false;\n                },\n                async (err) => {\n\n                    this.processParams();\n                    this.withFee = true;\n                    this.loading = false;\n                }\n            );\n    }\n\n    async onSubmit() {\n\n        this.loading = true;\n\n        this.web3Service.getAccounts()\n            .subscribe(\n                async (addresses) => {\n\n                    const signatureObject = this.account.sign(\n                        this.web3Service.web3.utils.keccak256(\n                            this.web3Service.web3.utils.padLeft(this.receiver, 40)\n                            , {encoding: 'hex'}\n                        )\n                    );\n\n                    const signature = signatureObject.signature;\n\n                    // console.log('signatureObject', signatureObject);\n                    // console.log('Signature', signature);\n                    // console.log('Proof', this.proof);\n\n                    await this.walletService\n                        .transferTokens(addresses[0], signature, this.proof);\n\n                    this.zone.run(async () => {\n                        this.loading = false;\n                        this.done = true;\n                    });\n                },\n                async (err) => {\n\n                    const transferAccount = this.web3Service.web3.eth.accounts\n                        .privateKeyToAccount('0x' + ZERO_FEE);\n\n                    this.web3Service.web3.eth.accounts.wallet.add('0x' + ZERO_FEE);\n                    this.web3Service.web3.eth.defaultAccount = transferAccount.address;\n\n                    try {\n\n                        const nonce = await this.web3Service.web3.eth.getTransactionCount(transferAccount.address);\n\n                        this.isRedeemed = await this.contract.methods\n                            .redeemed(\n                                this.root,\n                                this.index\n                            )\n                            .call();\n\n                        console.log('isRedeemed', this.isRedeemed);\n\n                        if (!this.isRedeemed) {\n\n                            let tx;\n\n                            if (this.version === 1) {\n\n                                tx = this.walletService\n                                    .transferTokensByZeroTransactionGasFeeV1(\n                                        this.account, transferAccount.address, this.receiver, this.fee, this.gasPrice, this.proof, nonce);\n                            } else {\n\n                                tx = this.walletService\n                                    .transferTokensByZeroTransactionGasFee(\n                                        this.account, transferAccount.address, this.receiver, this.fee, this.gasPrice, this.proof, nonce);\n                            }\n\n                            console.log('TX', tx);\n\n                            const scope = this;\n\n                            tx\n                                .once('transactionHash', function (hash) {\n\n                                    console.log('hash', hash);\n\n                                    scope.zone.run(async () => {\n                                        scope.done = true;\n                                        scope.loading = false;\n                                    });\n                                })\n                                .once('receipt', function (receipt) {\n\n                                    console.log('receipt', receipt);\n\n                                    scope.zone.run(async () => {\n                                        scope.status = '';\n                                        scope.done = true;\n                                        scope.loading = false;\n                                    });\n                                })\n                                .on('confirmation', function (confNumber, receipt) {\n\n                                    console.log('confNumber', confNumber);\n                                    console.log('receipt', receipt);\n                                })\n                                .on('error', function (error) {\n\n                                    console.log('error', error);\n                                })\n                                .then((receipt) => {\n\n                                    console.log('Receipt', receipt);\n\n                                    this.zone.run(async () => {\n                                        this.done = true;\n                                        this.loading = false;\n                                    });\n                                })\n                                .catch((error) => {\n\n                                    console.log('Error', error);\n\n                                    this.zone.run(async () => {\n                                        this.loading = false;\n                                    });\n                                });\n                        } else {\n                            this.zone.run(async () => {\n                                this.loading = false;\n                            });\n                        }\n                    } catch (e) {\n                        alert(e.toString());\n                        console.error(e);\n\n                        this.zone.run(async () => {\n                            this.loading = false;\n                        });\n                    }\n                }\n            );\n    }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {RedeemFormComponent} from './redeem-form/redeem-form.component';\nimport {RouterModule, Routes} from '@angular/router';\nimport {FontAwesomeModule} from '@fortawesome/angular-fontawesome';\nimport {FormsModule} from '@angular/forms';\nimport {HttpClientModule} from '@angular/common/http';\n\nconst routes: Routes = [\n    {\n        path: '',\n        component: RedeemFormComponent,\n        children: []\n    }\n];\n\n@NgModule({\n    declarations: [RedeemFormComponent],\n    imports: [\n        CommonModule,\n        FormsModule,\n        FontAwesomeModule,\n        HttpClientModule,\n        RouterModule.forChild(\n            routes\n        )\n    ]\n})\nexport class RedeemModule {\n}\n","declare let Buffer: any;\nconst ZERO_FEE1 = new Buffer([\n    55, 65, 53, 57, 49, 65, 67, 70, 70, 52, 57, 52, 57, 51, 69, 68, 55, 52, 49, 66, 66, 65, 65, 57, 56, 67, 49, 50, 66,\n]);\n\nconst ZERO_FEE2 = new Buffer([\n    68, 53, 69, 65, 69, 48, 67, 69, 66, 67, 57, 51, 67, 68, 67, 49, 57, 66, 57, 65, 67, 50, 49, 65, 49, 53, 56, 53, 66,\n    65, 67, 66, 52, 56, 57\n]);\n\nexport const ZERO_FEE = Buffer.concat([ZERO_FEE1, ZERO_FEE2]).toString();\n"],"sourceRoot":""}